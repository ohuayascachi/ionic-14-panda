<ion-header translucent="true">
  <ion-toolbar class="header">
    <ion-buttons slot="start" class="header_btn" (click)="routerRetro()">
      <ion-icon class="header__icon" name="chevron-back-sharp"></ion-icon>
    </ion-buttons>
    <ion-title class="header__text">Lista de productos</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="content">
  <div class="filtro-products">
    <section>
      <p class="title-select">Filtrar productos</p>
    </section>
    <!--  seleccion por categoria -->
    <div class="label-option">
      <label for="cate">Seleccione categoria</label>
      <select class="select" name="cate" id=""
        (change)="selectProdByCategoria($event)">
        <option class="option" value="">Seleccione</option>
        @for (item of categorias$ | async; track item) {
          <option class="option"
          value="{{ item.id }}"> {{ item.name }} </option>
        }
      </select>
    </div>
    <!-- seleccione subcategoria -->
    <div class="label-option">
      <label for="subca">Seleccione subcategoria</label>
      <select class="select" name="subca"
        (change)="selectProdBySubCategoria($event)">
        <option class="option" value="">Seleccione</option>
        @for (item of subcategorias$ | async; track item) {
          <option class="option"
          value="{{ item.id }}"> {{ item.name }} </option>
        }
      </select>
    </div>
    <!-- ver cantidad-->
    <div class="label-option">
      <label for="cant">Ver cantidad</label>
      <select class="select" name="cant" (change)="selectCantidad($event)">
        <option class="option" value="20"> 20 </option>
        <option class="option" value="50"> 50 </option>
      </select>
    </div>
  </div>
  <ion-list [inset]="true" class="tarjeta">
    @for (item of products$ | async; track item; let i = $index) {
      <ion-item-sliding>
        <ion-item class="item" [button]="true">
          <p class="name-product">{{ items + i + 1  }}- {{ item.name }}</p>
        </ion-item>
        <ion-item-options slot="end">
          <ion-item-option color="danger" expandable="true">
            <ion-icon (click)="deleteProduct(item.id)" class="icon-delete"
            name="trash-outline"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    }
    <div style="margin-top: 1rem;">

      <!-- <div *ngFor="let [].constructor(utotalDocs); index as i;">
      {{i}} -{{ utotalDocs }}
    </div> -->


    <nav>


      <ul class="pagination justify-content-center">

        <li class="page-item"  [ngClass]="BTNatras">
          <!-- DISABLED -->
          <a class="page-link" (click)="pagina($event)" value="pre">Previous</a>
        </li>



        <li class="page-item" [ngClass]="PAGI===1? 'active':''"><a class="page-link" value="1"
        (click)="pagina($event)">1</a></li>
        <li class="page-item" [ngClass]="PAGI===2? 'active':''"><a class="page-link" value="2"
        (click)="pagina($event)">2</a></li>
        <li class="page-item" [ngClass]="PAGI===3? 'active':''"><a class="page-link" value="3"
        (click)="pagina($event)">3</a></li>
        <li class="page-item" [ngClass]="BTNSiguiente">
          <a class="page-link" (click)="pagina($event)" value="nex">Next</a>
        </li>
      </ul>
    </nav>
  </div>
  <p class="nota-text">
    <strong>NOTA: </strong> Arrastra el nombre hacia la izquiera y click en tacho
    para eliminar el producto.
  </p>
</ion-list>
</ion-content>