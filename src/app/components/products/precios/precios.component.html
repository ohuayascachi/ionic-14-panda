<!-- <app-header
[title]="'Agregar precios'"
[iconName]="'chevron-back-sharp'"
(pathRetro)="routerRetro()"
></app-header> -->
<ion-header translucent="true">
  <ion-toolbar class="header">
    <ion-buttons slot="start" class="header_btn" (click)="routerRetro()">
      <ion-icon class="header__icon" name="chevron-back-sharp"></ion-icon>
    </ion-buttons>
    <ion-title class="header__text">Precios</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="content">
  <div class="title-header">
    Seleccione producto para agregar o editar el precio.
  </div>

  <div class="segment">
    <ion-segment
      (ionChange)="segmentChange($event)"
      class="segment-block"
      color="light"
      value="none"
      >
      <ion-segment-button mode="ios" class="segment-header" value="none">
        Sin precios
      </ion-segment-button>
      <ion-segment-button mode="ios" class="segment-header" value="something">
        Con precio
      </ion-segment-button>
    </ion-segment>

    @if (seletedSegment === 'none') {
      <ion-list [inset]="true">
        @for (item of productsAllWithoutPrecio$ | async; track item) {
          <ion-item
            [button]="true"
            [routerLink]="['/prices', item.slug]"
            >
            <ion-label class="label">{{ item.name }}</ion-label>
          </ion-item>
        }
        <p class="nota-text">
          <strong>NOTA: </strong> Click sobre el producto para a√±adir el precio
        </p>
      </ion-list>
    }

    @if (seletedSegment === 'something') {
      <ion-list [inset]="true">
        @for (item of productsAllWithPrecio$ | async; track item) {
          <ion-item-sliding>
            <ion-item [button]="true">
              <!-- <ion-thumbnail slot="start">
              <img
                alt="IMAGE"
                src="https://ionicframework.com/docs/img/demos/thumbnail.svg"
                />
            </ion-thumbnail> -->
            <ion-label class="label">{{ item.name }}</ion-label>
          </ion-item>
          <ion-item-options slot="end">
            <ion-item-option color="danger" expandable="true">
              <ion-icon
                (click)="deletePrice(item.id)"
                class="icon-delete"
                name="trash-outline"
              ></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      }
      <p class="nota-text">
        <strong>NOTA: </strong>
        Arrastra el nombre hacia la izquiera para eliminar el precio y poder
        actualizarlo.
      </p>
      <div class="btn-segment">
        <a href="/prices-list" class="btn"> REVISAR PRECIOS </a>
      </div>
    </ion-list>
  }
</div>
</ion-content>
